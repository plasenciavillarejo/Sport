<form class="container border border-primary" (ngSubmit)="createActivity(clienteOauth)">
    <h2 class="mb-4">Nueco cliente Oauth 2</h2>

    <div class="row mb-4">
        <div class="col-md-2">
            <label for="clientId" class="form-label">Client Id</label>
            <input type="text" class="form-control" id="clientId" [(ngModel)]="clienteOauth.clientId" name="clientId" />
        </div>

        <div class="col-md-2">
            <label for="clientSecret" class="form-label">Client Secret</label>
            <input type="text" class="form-control" id="clientSecret" [(ngModel)]="clienteOauth.clientSecret"
                name="clientSecret" />
        </div>

        <div class="col-md-2">
            <label for="clientName" class="form-label">Nombre cliente</label>
            <input type="text" class="form-control" id="clientName" [(ngModel)]="clienteOauth.clientName"
                name="clientName" />
        </div>

        <div class="col-md-5">
            <label for="authenticationMethods" class="form-label">Método Autenticación</label>
            <input type="text" class="form-control" id="authenticationMethods"
                [(ngModel)]="clienteOauth.authenticationMethods" name="authenticationMethods" />
        </div>

        <div class="row mt-4">
            <div class="col-md-2">
                <label for="authorizationGrantTypes" class="form-label">Tipo de Autorizaciones</label>
                @for (auth of autorizathion; track $index) {
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" [(ngModel)]="auth.checked" [value]="auth.value"
                        id="{{auth.value}}" name="authorizationGrantTypes"
                        (change)="onCheckboxChangeAuthorization(auth)">
                    <label class="form-check-label" for="{{auth.value}}">{{auth.value}}</label>
                </div>
                }
            </div>

            <div class="col-md-10">
                <label for="redirectUris" class="form-label">Redirección Urls</label>
                <div class="d-flex align-items-center">
                    @for (i of redirectUris; track $index) {
                        <input type="text" class="form-control me-2"
                        [(ngModel)]="redirectUris[$index]"
                        (blur)="updateUri($index, redirectUris[$index])"
                        name="redirectUri{{$index}}"/>
                    }
                    <button type="button" class="btn btn-primary" (click)="updateRedirectUris()">
                      <i class="bi bi-plus-lg"></i>
                    </button>
                  </div>
            </div>
            
            <div class="col-md-1">
                <label for="scopes" class="form-label">Scopes</label>
                @for (scop of scopes; track $index) {
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" [(ngModel)]="scop.checked" [value]="scop.value"
                        id="{{scop.value}}" name="authorizationGrantTypes" (change)="onCheckboxChangeScopes(scop)">
                    <label class="form-check-label" for="{{scop.value}}">{{scop.value}}</label>
                </div>
                }
            </div>

            <div class="col-md-2">
                <label for="timeAccesToken" class="form-label">Tiempo Acces Token</label>
                <input type="text" class="form-control" id="timeAccesToken" [(ngModel)]="clienteOauth.timeAccesToken"
                    name="timeAccesToken" />
            </div>

            <div class="col-md-2">
                <label for="timeRefrehsToken" class="form-label">Tiempo Refresh Token</label>
                <input type="text" class="form-control" id="timeRefrehsToken"
                    [(ngModel)]="clienteOauth.timeRefrehsToken" name="timeRefrehsToken" />
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-primary mb-3">Crear Reserva</button>
</form>