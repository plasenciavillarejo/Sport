<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-primary text-white shadow-sm sticky-top">
  <div class="container-fluid">
    <a class="navbar-brand text-white fw-bold" [routerLink]="['/']">SportBuddies</a>

    <!-- Botón para abrir Off-Canvas -->
    @if (this.isAuthenticate) {
    <button class="btn btn-primary d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#mainOffCanvas" aria-controls="mainOffCanvas" >
      <i class="bi bi-list fs-1"></i>
    </button>
    }@else {
      <a class="btn btn-outline-light" (click)="onLogin()">Mi cuenta</a>
    }

    <!-- Menú principal para pantallas grandes -->
    <div class="collapse navbar-collapse justify-content-between" id="navbarNavDropdown">
      <ul class="navbar-nav">
        @if (this.isAuthenticate) {
        <li class="nav-item">
          <a class="nav-link text-white" [routerLink]="['/nueva-actividad']">Actividades</a>
        </li>
        }
      </ul>
      <ul class="navbar-nav">
        @if (!this.isAuthenticate) {
          <li class="nav-item">
            <a class="btn btn-outline-light" (click)="onLogin()">Mi cuenta</a>
          </li>
        }
        @if (this.isAuthenticate) {
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle text-white" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            {{ obtainNameUser() }}
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            @if (admin()) {
              <li>
                <a class="dropdown-item" [routerLink]="['/nuevo-cliente-oauth']">Nuevo Cliente Aplicación</a>
              </li>
            }
            <li><a class="dropdown-item" [routerLink]="['/mi-cuenta/', idUser()]">Mi cuenta</a></li>
            <li><a class="dropdown-item" [routerLink]="['/mis-reservas']">Mis reservas inscritas</a></li>
            <li><a class="dropdown-item" [routerLink]="['/historial-reservas']">Historial reservas</a></li>
            <li><a class="dropdown-item" [routerLink]="['/confirmar-asitencia/', idUser()]">Confirmar asistencia</a></li>
            <li><a class="dropdown-item" (click)="onLogout()" style="cursor: pointer;">Cerrar sesión</a></li>
          </ul>
        </li>
      }
      </ul>
    </div>
  </div>
</nav>

<!-- Off-Canvas para móviles -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="mainOffCanvas" aria-labelledby="mainOffCanvasLabel" style="width: 73%;">
  <div class="offcanvas-header bg-primary text-white">
    <h5 class="offcanvas-title" id="mainOffCanvasLabel">{{obtainNameUser()}}</h5>
    <button type="button" class="btn-close btn-close-white text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    @if (this.isAuthenticate) {
      <ul class="list-unstyled">
        @if (admin()) {
          <a class="dropdown-item mb-2" [routerLink]="['/nuevo-cliente-oauth']" (click)="closeOffCanvas()" data-bs-dismiss="offcanvas">Nuevo Cliente Aplicación</a>
        }
        <li><a class="dropdown-item mb-2" [routerLink]="['/nueva-actividad']" (click)="closeOffCanvas()" data-bs-dismiss="offcanvas">Actividades</a></li>
        <li><a class="dropdown-item mb-2" [routerLink]="['/mi-cuenta/', idUser()]" (click)="closeOffCanvas()" data-bs-dismiss="offcanvas">Mi cuenta</a></li>
        <li><a class="dropdown-item mb-2" [routerLink]="['/mis-reservas']" (click)="closeOffCanvas()" data-bs-dismiss="offcanvas">Mis reservas inscritas</a></li>
        <li><a class="dropdown-item mb-2" [routerLink]="['/historial-reservas']" (click)="closeOffCanvas()" data-bs-dismiss="offcanvas">Historial reservas</a></li>
        <li><a class="dropdown-item mb-2" [routerLink]="['/confirmar-asitencia/', idUser()]" (click)="closeOffCanvas()" data-bs-dismiss="offcanvas">Confirmar asistencia</a></li>
        <li><a class="dropdown-item " (click)="onLogout()" style="cursor: pointer;" id="myOffcanvas" data-bs-dismiss="offcanvas">Cerrar sesión</a></li>
      </ul>
    }
  </div>
</div>
